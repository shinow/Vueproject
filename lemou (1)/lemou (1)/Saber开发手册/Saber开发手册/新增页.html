<html><head><meta charSet="utf-8"/><title data-react-helmet="true">新增页 · Saber开发手册 · 看云</title><meta data-react-helmet="true" name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/><link rel="stylesheet" href="asset/plugins/theme-default/reader/style.css"/><style data-react-helmet="true" type="text/css">.ಠhighlight-container code[class*=language-],.ಠhighlight-container pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.ಠhighlight-container code[class*=language-]::-moz-selection,.ಠhighlight-container code[class*=language-] ::-moz-selection,.ಠhighlight-container pre[class*=language-]::-moz-selection,.ಠhighlight-container pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}.ಠhighlight-container code[class*=language-]::selection,.ಠhighlight-container code[class*=language-] ::selection,.ಠhighlight-container pre[class*=language-]::selection,.ಠhighlight-container pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{.ಠhighlight-container code[class*=language-],.ಠhighlight-container pre[class*=language-]{text-shadow:none}}.ಠhighlight-container pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}.ಠhighlight-container :not(pre)>code[class*=language-],.ಠhighlight-container pre[class*=language-]{background:#f5f2f0}.ಠhighlight-container :not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.ಠhighlight-container .token.cdata,.ಠhighlight-container .token.comment,.ಠhighlight-container .token.doctype,.ಠhighlight-container .token.prolog{color:#708090}.ಠhighlight-container .token.punctuation{color:#999}.ಠhighlight-container .namespace{opacity:.7}.ಠhighlight-container .token.boolean,.ಠhighlight-container .token.constant,.ಠhighlight-container .token.deleted,.ಠhighlight-container .token.number,.ಠhighlight-container .token.property,.ಠhighlight-container .token.symbol,.ಠhighlight-container .token.tag{color:#905}.ಠhighlight-container .token.attr-name,.ಠhighlight-container .token.builtin,.ಠhighlight-container .token.char,.ಠhighlight-container .token.inserted,.ಠhighlight-container .token.selector,.ಠhighlight-container .token.string{color:#690}.ಠhighlight-container .language-css .token.string,.ಠhighlight-container .style .token.string,.ಠhighlight-container .token.entity,.ಠhighlight-container .token.operator,.ಠhighlight-container .token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.ಠhighlight-container .token.atrule,.ಠhighlight-container .token.attr-value,.ಠhighlight-container .token.keyword{color:#07a}.ಠhighlight-container .token.class-name,.ಠhighlight-container .token.function{color:#dd4a68}.ಠhighlight-container .token.important,.ಠhighlight-container .token.regex,.ಠhighlight-container .token.variable{color:#e90}.ಠhighlight-container .token.bold,.ಠhighlight-container .token.important{font-weight:700}.ಠhighlight-container .token.italic{font-style:italic}.ಠhighlight-container .token.entity{cursor:help}</style></head><body><div id="main"><div class="window-container"><img src="cover.jpg" style="position:absolute;visibility:hidden"/><div><div class="Loading__loading___1m_fZ"><div class="Loading__bar___21yOt" style="background:#21ba45;width:0%;display:none"><div class="Loading__peg___3Y_28"></div></div></div><div class="Loading__spinner___11Pm4"><div class="Loading__icon___3OOyu" style="display:none;border-color:#21ba45"></div></div></div><div class="window-body"><div class="sidebar"><div class="sidebar-header"><a href="." class="title">Saber开发手册</a><div class="search-form"><div class="ui small fluid icon input"><input type="text" placeholder="请输入搜索关键词..."/><i class="icon search"></i></div></div></div><div class="sidebar-body"><div class="catalog-body"><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="序.html" class="text">序</a></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="快速开始.html" class="text">快速开始</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="环境要求.html" class="text">环境要求</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="环境准备.html" class="text">环境准备</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="工程导入.html" class="text">工程导入</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="工程运行.html" class="text">工程运行</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="技术基础.html" class="text">技术基础</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="ES6.html" class="text">ES6</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="Vue.html" class="text">Vue</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="Vuex.html" class="text">Vuex</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="ElementUI.html" class="text">ElementUI</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="Avue.html" class="text">Avue</a></li></ul></li><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="开发初探.html" class="text">开发初探</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="第一个页面.html" class="text">第一个页面</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="ElementUI组件.html" class="text">ElementUI组件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="自定义组件.html" class="text">自定义组件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="Mock数据.html" class="text">Mock数据</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="API调用.html" class="text">API调用</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="API结合Mock加载组件.html" class="text">API结合Mock加载组件</a></li><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="第一个CRUD.html" class="text">第一个CRUD</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="模块准备.html" class="text">模块准备</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="列表页.html" class="text">列表页</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="新增页.html" class="text">新增页</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="修改页.html" class="text">修改页</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="详情页.html" class="text">详情页</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="删除操作.html" class="text">删除操作</a></li></ul></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="开发进阶.html" class="text">开发进阶</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="API反向代理.html" class="text">API反向代理</a></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="Avue组件.html" class="text">Avue组件</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="官网.html" class="text">官网</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="表格组件.html" class="text">表格组件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="列表组件.html" class="text">表单组件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="其他组件.html" class="text">其他组件</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="基于Avue改造CRUD.html" class="text">基于Avue改造CRUD</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="数据库建表.html" class="text">数据库建表</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="代码生成.html" class="text">代码生成</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="前端配置.html" class="text">前端配置</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="优化效果.html" class="text">优化效果</a></li></ul></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="构建发布.html" class="text">构建发布</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="项目构建.html" class="text">项目构建</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="项目发布.html" class="text">项目发布</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="后记.html" class="text">后记</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="BladeX介绍.html" class="text">BladeX介绍</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="技术社区.html" class="text">技术社区</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="常见问题.html" class="text">常见问题</a></li></ul></li></ul></div></div><div class="sidebar-copyright">本文档使用 <a href="https://www.kancloud.cn" target="_blank">看云</a> 构建</div></div><div class="workspace"><div class="article"><div class="article-head"><div class="left tools"><a class="item icon"><i class="icon align justify"></i></a></div><h1>新增页</h1><div class="right tools"><div role="listbox" aria-expanded="false" class="ui top right pointing dropdown item" tabindex="0"><div class="text" role="alert" aria-live="polite"></div><i aria-hidden="true" class="share alternate icon"></i><div class="menu transition"><div role="option" class="item"><i aria-hidden="true" class="linkify icon"></i><span class="text">复制链接</span></div><div role="option" class="item"><i aria-hidden="true" class="qq icon"></i><span class="text">腾讯QQ</span></div><div role="option" class="item"><i aria-hidden="true" class="weibo icon"></i><span class="text">新浪微博</span></div><div class="header"><p><i class="icon wechat"></i><span class="text">微信扫一扫</span></p><img src="https://bshare.optimix.asia/barCode?site=weixin&amp;url=file%3A%2F%2F.%2Fcontent%2F%25E6%2596%25B0%25E5%25A2%259E%25E9%25A1%25B5.md"/></div></div></div></div></div><div class="article-body kancloud-markdown-body"><h2><a id="_0"></a>新建表单</h2>
<ol><li>加入弹窗组件，并填上表单配置，完整代码如下</li></ol>
<pre><code class="ಠhighlight-container"><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>basic<span class="token operator">-</span>container<span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">></span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token punctuation">:</span>span<span class="token operator">=</span><span class="token string">"24"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>div class<span class="token operator">=</span><span class="token string">"tool-box"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> icon<span class="token operator">=</span><span class="token string">"el-icon-circle-plus-outline"</span> size<span class="token operator">=</span><span class="token string">"small"</span> @click<span class="token operator">=</span><span class="token string">"handleAdd"</span><span class="token operator">></span>新增<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"danger"</span> icon<span class="token operator">=</span><span class="token string">"el-icon-delete"</span> size<span class="token operator">=</span><span class="token string">"small"</span> @click<span class="token operator">=</span><span class="token string">"handleMultiDelete"</span><span class="token operator">></span>批量删除<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">></span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table
        <span class="token punctuation">:</span>data<span class="token operator">=</span><span class="token string">"data"</span>
        @selection<span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"selectChange"</span>
        style<span class="token operator">=</span><span class="token string">"width: 100%"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
          prop<span class="token operator">=</span><span class="token string">"id"</span>
          type<span class="token operator">=</span><span class="token string">"selection"</span>
          width<span class="token operator">=</span><span class="token string">"55"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
          prop<span class="token operator">=</span><span class="token string">"title"</span>
          label<span class="token operator">=</span><span class="token string">"标题"</span>
          width<span class="token operator">=</span><span class="token string">"180"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
          prop<span class="token operator">=</span><span class="token string">"content"</span>
          label<span class="token operator">=</span><span class="token string">"内容"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
          prop<span class="token operator">=</span><span class="token string">"time"</span>
          label<span class="token operator">=</span><span class="token string">"日期"</span>
          width<span class="token operator">=</span><span class="token string">"180"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"操作"</span> fixed<span class="token operator">=</span><span class="token string">"right"</span> width<span class="token operator">=</span><span class="token string">"250"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
              size<span class="token operator">=</span><span class="token string">"mini"</span>
              type<span class="token operator">=</span><span class="token string">""</span>
              plain
              @click<span class="token operator">=</span><span class="token string">"handleView(scope.$index, scope.row)"</span><span class="token operator">></span>查看
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
              size<span class="token operator">=</span><span class="token string">"mini"</span>
              type<span class="token operator">=</span><span class="token string">"primary"</span>
              plain
              @click<span class="token operator">=</span><span class="token string">"handleEdit(scope.$index, scope.row)"</span><span class="token operator">></span>编辑
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
              size<span class="token operator">=</span><span class="token string">"mini"</span>
              type<span class="token operator">=</span><span class="token string">"danger"</span>
              @click<span class="token operator">=</span><span class="token string">"handleDelete(scope.$index, scope.row)"</span><span class="token operator">></span>删除
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">></span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>pagination
        background
        <span class="token punctuation">:</span>page<span class="token operator">-</span>sizes<span class="token operator">=</span><span class="token string">"[10, 20, 30, 50]"</span>
        <span class="token punctuation">:</span>page<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">"10"</span>
        layout<span class="token operator">=</span><span class="token string">"total, sizes, prev, pager, next, jumper"</span>
        @size<span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"sizeChange"</span>
        @current<span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"currentChange"</span>
        <span class="token punctuation">:</span>total<span class="token operator">=</span><span class="token string">"page.total"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>pagination<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog <span class="token punctuation">:</span>title<span class="token operator">=</span><span class="token string">"dialogTitle"</span> width<span class="token operator">=</span><span class="token string">"600px"</span> <span class="token punctuation">:</span>visible<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"formVisible"</span> @close<span class="token operator">=</span><span class="token string">"resetForm('blogForm')"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token punctuation">:</span>model<span class="token operator">=</span><span class="token string">"blog"</span> <span class="token punctuation">:</span>rules<span class="token operator">=</span><span class="token string">"rules"</span> ref<span class="token operator">=</span><span class="token string">"blogForm"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"标题"</span> prop<span class="token operator">=</span><span class="token string">"title"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.title"</span> autocomplete<span class="token operator">=</span><span class="token string">"off"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"时间"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker
            v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.time"</span>
            style<span class="token operator">=</span><span class="token string">"width: 100%;"</span>
            type<span class="token operator">=</span><span class="token string">"date"</span>
            value<span class="token operator">-</span>format<span class="token operator">=</span><span class="token string">"yyyy-MM-dd"</span>
            placeholder<span class="token operator">=</span><span class="token string">"选择日期"</span>
            autocomplete<span class="token operator">=</span><span class="token string">"off"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"内容"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.content"</span> autocomplete<span class="token operator">=</span><span class="token string">"off"</span> type<span class="token operator">=</span><span class="token string">"textarea"</span> <span class="token punctuation">:</span>rows<span class="token operator">=</span><span class="token string">"5"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">></span>
      <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"footer"</span> class<span class="token operator">=</span><span class="token string">"dialog-footer"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">"formVisible = false"</span><span class="token operator">></span>取 消<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"submitBlog('blogForm')"</span><span class="token operator">></span>确 定<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>basic<span class="token operator">-</span>container<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
  import <span class="token punctuation">{</span>getList<span class="token punctuation">,</span> submit<span class="token punctuation">}</span> from <span class="token string">'@/api/demo/blog'</span>

  export default <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token comment">// 是否显示</span>
        formVisible<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">// dialog标题</span>
        dialogTitle<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token comment">// 列表数据</span>
        data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// 选中的数据</span>
        multiSelection<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// 分页数据</span>
        page<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          pageSize<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
          currentPage<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          total<span class="token punctuation">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 校验规则</span>
        rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          title<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入标题'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 表单映射模型</span>
        blog<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          id<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          content<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          time<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      this<span class="token punctuation">.</span><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          this<span class="token punctuation">.</span>data <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>records<span class="token punctuation">;</span>
          this<span class="token punctuation">.</span>page<span class="token punctuation">.</span>total <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>total<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">selectChange</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        this<span class="token punctuation">.</span>multiSelection <span class="token operator">=</span> val
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">currentChange</span><span class="token punctuation">(</span>currentPage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        this<span class="token punctuation">.</span>page<span class="token punctuation">.</span>currentPage <span class="token operator">=</span> currentPage<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">sizeChange</span><span class="token punctuation">(</span>pageSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        this<span class="token punctuation">.</span>page<span class="token punctuation">.</span>pageSize <span class="token operator">=</span> pageSize<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">resetForm</span><span class="token punctuation">(</span>formName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        this<span class="token punctuation">.</span>$refs<span class="token punctuation">[</span>formName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">clearValidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        this<span class="token punctuation">.</span>dialogTitle <span class="token operator">=</span> <span class="token string">'新增博客'</span><span class="token punctuation">;</span>
        this<span class="token punctuation">.</span>formVisible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"add"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">handleView</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> row<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"view"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">handleEdit</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> row<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"edit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">handleDelete</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> row<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"delete"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">handleMultiDelete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"multi-delete"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">submitBlog</span><span class="token punctuation">(</span>formName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 表单验证</span>
        this<span class="token punctuation">.</span>$refs<span class="token punctuation">[</span>formName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>blog<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">submit</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>blog<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                this<span class="token punctuation">.</span>formVisible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                this<span class="token punctuation">.</span>$<span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  type<span class="token punctuation">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
                  message<span class="token punctuation">:</span> <span class="token string">'操作成功！'</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                this<span class="token punctuation">.</span>$<span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  type<span class="token punctuation">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
                  message<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"scss"</span> scoped<span class="token operator">></span>
  <span class="token punctuation">.</span>el<span class="token operator">-</span>pagination <span class="token punctuation">{</span>
    margin<span class="token operator">-</span>top<span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>

</code></pre>
<ol start="2"><li>我们来详细分析每一个代码块的作用及目的</li></ol>
<ul><li>如下代码定义了一个dialog组件，并且包裹了表单组件</li></ul>
<pre><code class="ಠhighlight-container"><span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog <span class="token punctuation">:</span>title<span class="token operator">=</span><span class="token string">"dialogTitle"</span> width<span class="token operator">=</span><span class="token string">"600px"</span> <span class="token punctuation">:</span>visible<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"formVisible"</span> @close<span class="token operator">=</span><span class="token string">"resetForm('blogForm')"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token punctuation">:</span>model<span class="token operator">=</span><span class="token string">"blog"</span> <span class="token punctuation">:</span>rules<span class="token operator">=</span><span class="token string">"rules"</span> ref<span class="token operator">=</span><span class="token string">"blogForm"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"标题"</span> prop<span class="token operator">=</span><span class="token string">"title"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.title"</span> autocomplete<span class="token operator">=</span><span class="token string">"off"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"时间"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker
        v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.time"</span>
        style<span class="token operator">=</span><span class="token string">"width: 100%;"</span>
        type<span class="token operator">=</span><span class="token string">"date"</span>
        value<span class="token operator">-</span>format<span class="token operator">=</span><span class="token string">"yyyy-MM-dd"</span>
        placeholder<span class="token operator">=</span><span class="token string">"选择日期"</span>
        autocomplete<span class="token operator">=</span><span class="token string">"off"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"内容"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.content"</span> autocomplete<span class="token operator">=</span><span class="token string">"off"</span> type<span class="token operator">=</span><span class="token string">"textarea"</span> <span class="token punctuation">:</span>rows<span class="token operator">=</span><span class="token string">"5"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">></span>
  <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"footer"</span> class<span class="token operator">=</span><span class="token string">"dialog-footer"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">"formVisible = false"</span><span class="token operator">></span>取 消<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"submitBlog('blogForm')"</span><span class="token operator">></span>确 定<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">></span>
</code></pre>
<ul><li>如下的属性分别代表了：绑定标题、设定宽度、设定弹窗可视、设定关闭事件</li></ul>
<pre><code class="ಠhighlight-container"><span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog <span class="token punctuation">:</span>title<span class="token operator">=</span><span class="token string">"dialogTitle"</span> width<span class="token operator">=</span><span class="token string">"600px"</span> <span class="token punctuation">:</span>visible<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"formVisible"</span> @close<span class="token operator">=</span><span class="token string">"resetForm('blogForm')"</span><span class="token operator">></span>
</code></pre>
<ul><li>如下的属性分别代表了：绑定form的数据、设定校验规则、定义表单别名</li></ul>
<pre><code class="ಠhighlight-container"><span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token punctuation">:</span>model<span class="token operator">=</span><span class="token string">"blog"</span> <span class="token punctuation">:</span>rules<span class="token operator">=</span><span class="token string">"rules"</span> ref<span class="token operator">=</span><span class="token string">"blogForm"</span><span class="token operator">></span>
</code></pre>
<ul><li>如下的属性设定了表单内的三个字段：标题、事件、内容</li></ul>
<pre><code class="ಠhighlight-container"><span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"标题"</span> prop<span class="token operator">=</span><span class="token string">"title"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.title"</span> autocomplete<span class="token operator">=</span><span class="token string">"off"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"时间"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker
    v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.time"</span>
    style<span class="token operator">=</span><span class="token string">"width: 100%;"</span>
    type<span class="token operator">=</span><span class="token string">"date"</span>
    value<span class="token operator">-</span>format<span class="token operator">=</span><span class="token string">"yyyy-MM-dd"</span>
    placeholder<span class="token operator">=</span><span class="token string">"选择日期"</span>
    autocomplete<span class="token operator">=</span><span class="token string">"off"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"内容"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"55px"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"blog.content"</span> autocomplete<span class="token operator">=</span><span class="token string">"off"</span> type<span class="token operator">=</span><span class="token string">"textarea"</span> <span class="token punctuation">:</span>rows<span class="token operator">=</span><span class="token string">"5"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">></span>
</code></pre>
<ul><li>如下的属性设置了弹框底部的按钮以及点击事件</li></ul>
<pre><code class="ಠhighlight-container"><span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"footer"</span> class<span class="token operator">=</span><span class="token string">"dialog-footer"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">"formVisible = false"</span><span class="token operator">></span>取 消<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"submitBlog('blogForm')"</span><span class="token operator">></span>确 定<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
</code></pre>
<ul><li>如下的属性设置了vue双向绑定所需要的参数</li></ul>
<pre><code class="ಠhighlight-container"><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// 是否显示</span>
    formVisible<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// dialog标题</span>
    dialogTitle<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token comment">// 列表数据</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 选中的数据</span>
    multiSelection<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 分页数据</span>
    page<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      pageSize<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      currentPage<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      total<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 校验规则</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入标题'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 表单映射模型</span>
    blog<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      content<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      time<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
<ul><li>如下方法定义了表单提交后执行的逻辑</li></ul>
<pre><code class="ಠhighlight-container"><span class="token function">submitBlog</span><span class="token punctuation">(</span>formName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 表单验证</span>
  this<span class="token punctuation">.</span>$refs<span class="token punctuation">[</span>formName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>blog<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">submit</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>blog<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          this<span class="token punctuation">.</span>formVisible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          this<span class="token punctuation">.</span>$<span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token punctuation">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
            message<span class="token punctuation">:</span> <span class="token string">'操作成功！'</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          this<span class="token punctuation">.</span>$<span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token punctuation">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
            message<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
<ol start="3"><li>代码分析完毕，我们打开系统查看效果<br/><img src="images/screenshot_1569568894095.png" alt=""/></li><li>直接提交，发现校验成功<br/><img src="images/screenshot_1569568910139.png" alt=""/></li><li>填入相关数据，点击确定，查看控制台输出，发现打印信息正确<br/><img src="images/screenshot_1569568972571.png" alt=""/></li><li>因为采用了mock数据，所以是模拟数据，列表页无法新增数据。我们将在<code>开发进阶</code>章节采用前后端分离的模式进行真实数据交互演示</li><li>下一章我们来学习下修改页如何操作</li></ol>
</div><div class="article-navigation"><span class="prev">上一篇：<a href="列表页.html">列表页</a></span><span class="next">下一篇：<a href="修改页.html">修改页</a></span></div><div class="article-foot"></div></div></div></div></div></div><script src="asset/reader.js"></script><script src="asset/plugins/highlight/reader/index.js"></script><script src="asset/plugins/search/reader/index.js"></script><script src="asset/plugins/theme-default/reader/index.js"></script><script type="application/payload+json">{"config":{"plugins":["highlight","search"],"cover":"cover.jpg","title":"Saber开发手册","id":441148,"description":"Saber是SpringBlade前端UI项目，基于Vue、Vuex、Avue、ElementUI等核心技术，用于快速构建系统中后台业务的前端框架。本手册主要讲解如何在Saber平台下开发业务模块，同时也是Vue、ElementUI入门的绝佳选择"},"summary":[{"level":"1","title":"序","ref":"序.md","path":"序.html","articles":[]},{"level":"2","title":"快速开始","ref":"快速开始.md","path":"快速开始.html","articles":[{"level":"2.1","title":"环境要求","ref":"环境要求.md","path":"环境要求.html","articles":[]},{"level":"2.2","title":"环境准备","ref":"环境准备.md","path":"环境准备.html","articles":[]},{"level":"2.3","title":"工程导入","ref":"工程导入.md","path":"工程导入.html","articles":[]},{"level":"2.4","title":"工程运行","ref":"工程运行.md","path":"工程运行.html","articles":[]}]},{"level":"3","title":"技术基础","ref":"技术基础.md","path":"技术基础.html","articles":[{"level":"3.1","title":"ES6","ref":"ES6.md","path":"ES6.html","articles":[]},{"level":"3.2","title":"Vue","ref":"Vue.md","path":"Vue.html","articles":[]},{"level":"3.3","title":"Vuex","ref":"Vuex.md","path":"Vuex.html","articles":[]},{"level":"3.4","title":"ElementUI","ref":"ElementUI.md","path":"ElementUI.html","articles":[]},{"level":"3.5","title":"Avue","ref":"Avue.md","path":"Avue.html","articles":[]}]},{"level":"4","title":"开发初探","ref":"开发初探.md","path":"开发初探.html","articles":[{"level":"4.1","title":"第一个页面","ref":"第一个页面.md","path":"第一个页面.html","articles":[]},{"level":"4.2","title":"ElementUI组件","ref":"ElementUI组件.md","path":"ElementUI组件.html","articles":[]},{"level":"4.3","title":"自定义组件","ref":"自定义组件.md","path":"自定义组件.html","articles":[]},{"level":"4.4","title":"Mock数据","ref":"Mock数据.md","path":"Mock数据.html","articles":[]},{"level":"4.5","title":"API调用","ref":"API调用.md","path":"API调用.html","articles":[]},{"level":"4.6","title":"API结合Mock加载组件","ref":"API结合Mock加载组件.md","path":"API结合Mock加载组件.html","articles":[]},{"level":"4.7","title":"第一个CRUD","ref":"第一个CRUD.md","path":"第一个CRUD.html","articles":[{"level":"4.7.1","title":"模块准备","ref":"模块准备.md","path":"模块准备.html","articles":[]},{"level":"4.7.2","title":"列表页","ref":"列表页.md","path":"列表页.html","articles":[]},{"level":"4.7.3","title":"新增页","ref":"新增页.md","path":"新增页.html","articles":[]},{"level":"4.7.4","title":"修改页","ref":"修改页.md","path":"修改页.html","articles":[]},{"level":"4.7.5","title":"详情页","ref":"详情页.md","path":"详情页.html","articles":[]},{"level":"4.7.6","title":"删除操作","ref":"删除操作.md","path":"删除操作.html","articles":[]}]}]},{"level":"5","title":"开发进阶","ref":"开发进阶.md","path":"开发进阶.html","articles":[{"level":"5.1","title":"API反向代理","ref":"API反向代理.md","path":"API反向代理.html","articles":[]},{"level":"5.2","title":"Avue组件","ref":"Avue组件.md","path":"Avue组件.html","articles":[{"level":"5.2.1","title":"官网","ref":"官网.md","path":"官网.html","articles":[]},{"level":"5.2.2","title":"表格组件","ref":"表格组件.md","path":"表格组件.html","articles":[]},{"level":"5.2.3","title":"表单组件","ref":"列表组件.md","path":"列表组件.html","articles":[]},{"level":"5.2.4","title":"其他组件","ref":"其他组件.md","path":"其他组件.html","articles":[]}]},{"level":"5.3","title":"基于Avue改造CRUD","ref":"基于Avue改造CRUD.md","path":"基于Avue改造CRUD.html","articles":[{"level":"5.3.1","title":"数据库建表","ref":"数据库建表.md","path":"数据库建表.html","articles":[]},{"level":"5.3.2","title":"代码生成","ref":"代码生成.md","path":"代码生成.html","articles":[]},{"level":"5.3.3","title":"前端配置","ref":"前端配置.md","path":"前端配置.html","articles":[]},{"level":"5.3.4","title":"优化效果","ref":"优化效果.md","path":"优化效果.html","articles":[]}]}]},{"level":"6","title":"构建发布","ref":"构建发布.md","path":"构建发布.html","articles":[{"level":"6.1","title":"项目构建","ref":"项目构建.md","path":"项目构建.html","articles":[]},{"level":"6.2","title":"项目发布","ref":"项目发布.md","path":"项目发布.html","articles":[]}]},{"level":"7","title":"后记","ref":"后记.md","path":"后记.html","articles":[{"level":"7.1","title":"BladeX介绍","ref":"BladeX介绍.md","path":"BladeX介绍.html","articles":[]},{"level":"7.2","title":"技术社区","ref":"技术社区.md","path":"技术社区.html","articles":[]},{"level":"7.3","title":"常见问题","ref":"常见问题.md","path":"常见问题.html","articles":[]}]}],"article":{"path":"新增页.html","ref":"新增页.md","title":"新增页","content":"## 新建表单\n1. 加入弹窗组件，并填上表单配置，完整代码如下\n~~~\n<template>\n  <basic-container>\n    <el-row>\n      <el-col :span=\"24\">\n        <div class=\"tool-box\">\n          <el-button type=\"primary\" icon=\"el-icon-circle-plus-outline\" size=\"small\" @click=\"handleAdd\">新增<\/el-button>\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"small\" @click=\"handleMultiDelete\">批量删除<\/el-button>\n        <\/div>\n      <\/el-col>\n    <\/el-row>\n    <el-row>\n      <el-table\n        :data=\"data\"\n        @selection-change=\"selectChange\"\n        style=\"width: 100%\">\n        <el-table-column\n          prop=\"id\"\n          type=\"selection\"\n          width=\"55\">\n        <\/el-table-column>\n        <el-table-column\n          prop=\"title\"\n          label=\"标题\"\n          width=\"180\">\n        <\/el-table-column>\n        <el-table-column\n          prop=\"content\"\n          label=\"内容\">\n        <\/el-table-column>\n        <el-table-column\n          prop=\"time\"\n          label=\"日期\"\n          width=\"180\">\n        <\/el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"250\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"\"\n              plain\n              @click=\"handleView(scope.$index, scope.row)\">查看\n            <\/el-button>\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              plain\n              @click=\"handleEdit(scope.$index, scope.row)\">编辑\n            <\/el-button>\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              @click=\"handleDelete(scope.$index, scope.row)\">删除\n            <\/el-button>\n          <\/template>\n        <\/el-table-column>\n      <\/el-table>\n    <\/el-row>\n    <el-row>\n      <el-pagination\n        background\n        :page-sizes=\"[10, 20, 30, 50]\"\n        :page-size=\"10\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        @size-change=\"sizeChange\"\n        @current-change=\"currentChange\"\n        :total=\"page.total\">\n      <\/el-pagination>\n    <\/el-row>\n    <el-dialog :title=\"dialogTitle\" width=\"600px\" :visible.sync=\"formVisible\" @close=\"resetForm('blogForm')\">\n      <el-form :model=\"blog\" :rules=\"rules\" ref=\"blogForm\">\n        <el-form-item label=\"标题\" prop=\"title\" label-width=\"55px\">\n          <el-input v-model=\"blog.title\" autocomplete=\"off\"><\/el-input>\n        <\/el-form-item>\n        <el-form-item label=\"时间\" label-width=\"55px\">\n          <el-date-picker\n            v-model=\"blog.time\"\n            style=\"width: 100%;\"\n            type=\"date\"\n            value-format=\"yyyy-MM-dd\"\n            placeholder=\"选择日期\"\n            autocomplete=\"off\">\n          <\/el-date-picker>\n        <\/el-form-item>\n        <el-form-item label=\"内容\" label-width=\"55px\">\n          <el-input v-model=\"blog.content\" autocomplete=\"off\" type=\"textarea\" :rows=\"5\"><\/el-input>\n        <\/el-form-item>\n      <\/el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"formVisible = false\">取 消<\/el-button>\n        <el-button type=\"primary\" @click=\"submitBlog('blogForm')\">确 定<\/el-button>\n      <\/div>\n    <\/el-dialog>\n  <\/basic-container>\n<\/template>\n\n<script>\n  import {getList, submit} from '@\/api\/demo\/blog'\n\n  export default {\n    data() {\n      return {\n        \/\/ 是否显示\n        formVisible: false,\n        \/\/ dialog标题\n        dialogTitle: '',\n        \/\/ 列表数据\n        data: [],\n        \/\/ 选中的数据\n        multiSelection: [],\n        \/\/ 分页数据\n        page: {\n          pageSize: 10,\n          currentPage: 1,\n          total: 0\n        },\n        \/\/ 校验规则\n        rules: {\n          title: [\n            {required: true, message: '请输入标题', trigger: 'blur'},\n          ]\n        },\n        \/\/ 表单映射模型\n        blog: {\n          id: '',\n          title: '',\n          content: '',\n          time: '',\n        }\n      }\n    },\n    created() {\n      this.onLoad();\n    },\n    methods: {\n      onLoad() {\n        getList().then(res => {\n          this.data = res.data.data.records;\n          this.page.total = res.data.data.total;\n        })\n      },\n      selectChange(val) {\n        this.multiSelection = val\n      },\n      currentChange(currentPage) {\n        this.page.currentPage = currentPage;\n      },\n      sizeChange(pageSize) {\n        this.page.pageSize = pageSize;\n      },\n      resetForm(formName) {\n        this.$refs[formName].clearValidate()\n      },\n      handleAdd() {\n        this.dialogTitle = '新增博客';\n        this.formVisible = true;\n        console.log(\"add\")\n      },\n      handleView(index, row) {\n        console.log(\"view\");\n        console.log(index);\n        console.log(row);\n      },\n      handleEdit(index, row) {\n        console.log(\"edit\");\n        console.log(index);\n        console.log(row);\n      },\n      handleDelete(index, row) {\n        console.log(\"delete\");\n        console.log(index);\n        console.log(row);\n      },\n      handleMultiDelete() {\n        console.log(\"multi-delete\")\n      },\n      submitBlog(formName) {\n        \/\/ 表单验证\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            console.log(this.blog);\n            submit(this.blog).then(res => {\n              if (res.data.success) {\n                this.formVisible = false;\n                this.$message({\n                  type: 'success',\n                  message: '操作成功！'\n                })\n              } else {\n                this.$message({\n                  type: 'error',\n                  message: res.data.msg\n                })\n              }\n            })\n          }\n        })\n      },\n    }\n  }\n<\/script>\n\n<style lang=\"scss\" scoped>\n  .el-pagination {\n    margin-top: 20px;\n  }\n<\/style>\n\n~~~\n2. 我们来详细分析每一个代码块的作用及目的\n* 如下代码定义了一个dialog组件，并且包裹了表单组件\n~~~\n<el-dialog :title=\"dialogTitle\" width=\"600px\" :visible.sync=\"formVisible\" @close=\"resetForm('blogForm')\">\n  <el-form :model=\"blog\" :rules=\"rules\" ref=\"blogForm\">\n    <el-form-item label=\"标题\" prop=\"title\" label-width=\"55px\">\n      <el-input v-model=\"blog.title\" autocomplete=\"off\"><\/el-input>\n    <\/el-form-item>\n    <el-form-item label=\"时间\" label-width=\"55px\">\n      <el-date-picker\n        v-model=\"blog.time\"\n        style=\"width: 100%;\"\n        type=\"date\"\n        value-format=\"yyyy-MM-dd\"\n        placeholder=\"选择日期\"\n        autocomplete=\"off\">\n      <\/el-date-picker>\n    <\/el-form-item>\n    <el-form-item label=\"内容\" label-width=\"55px\">\n      <el-input v-model=\"blog.content\" autocomplete=\"off\" type=\"textarea\" :rows=\"5\"><\/el-input>\n    <\/el-form-item>\n  <\/el-form>\n  <div slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"formVisible = false\">取 消<\/el-button>\n    <el-button type=\"primary\" @click=\"submitBlog('blogForm')\">确 定<\/el-button>\n  <\/div>\n<\/el-dialog>\n~~~\n* 如下的属性分别代表了：绑定标题、设定宽度、设定弹窗可视、设定关闭事件\n~~~\n<el-dialog :title=\"dialogTitle\" width=\"600px\" :visible.sync=\"formVisible\" @close=\"resetForm('blogForm')\">\n~~~\n* 如下的属性分别代表了：绑定form的数据、设定校验规则、定义表单别名\n~~~\n<el-form :model=\"blog\" :rules=\"rules\" ref=\"blogForm\">\n~~~\n* 如下的属性设定了表单内的三个字段：标题、事件、内容\n~~~\n<el-form-item label=\"标题\" prop=\"title\" label-width=\"55px\">\n  <el-input v-model=\"blog.title\" autocomplete=\"off\"><\/el-input>\n<\/el-form-item>\n<el-form-item label=\"时间\" label-width=\"55px\">\n  <el-date-picker\n    v-model=\"blog.time\"\n    style=\"width: 100%;\"\n    type=\"date\"\n    value-format=\"yyyy-MM-dd\"\n    placeholder=\"选择日期\"\n    autocomplete=\"off\">\n  <\/el-date-picker>\n<\/el-form-item>\n<el-form-item label=\"内容\" label-width=\"55px\">\n  <el-input v-model=\"blog.content\" autocomplete=\"off\" type=\"textarea\" :rows=\"5\"><\/el-input>\n<\/el-form-item>\n~~~\n* 如下的属性设置了弹框底部的按钮以及点击事件\n~~~\n<div slot=\"footer\" class=\"dialog-footer\">\n  <el-button @click=\"formVisible = false\">取 消<\/el-button>\n  <el-button type=\"primary\" @click=\"submitBlog('blogForm')\">确 定<\/el-button>\n<\/div>\n~~~\n* 如下的属性设置了vue双向绑定所需要的参数\n~~~\ndata() {\n  return {\n    \/\/ 是否显示\n    formVisible: false,\n    \/\/ dialog标题\n    dialogTitle: '',\n    \/\/ 列表数据\n    data: [],\n    \/\/ 选中的数据\n    multiSelection: [],\n    \/\/ 分页数据\n    page: {\n      pageSize: 10,\n      currentPage: 1,\n      total: 0\n    },\n    \/\/ 校验规则\n    rules: {\n      title: [\n        {required: true, message: '请输入标题', trigger: 'blur'},\n      ]\n    },\n    \/\/ 表单映射模型\n    blog: {\n      id: '',\n      title: '',\n      content: '',\n      time: '',\n    }\n  }\n},\n~~~\n* 如下方法定义了表单提交后执行的逻辑\n~~~\nsubmitBlog(formName) {\n  \/\/ 表单验证\n  this.$refs[formName].validate((valid) => {\n    if (valid) {\n      console.log(this.blog);\n      submit(this.blog).then(res => {\n        if (res.data.success) {\n          this.formVisible = false;\n          this.$message({\n            type: 'success',\n            message: '操作成功！'\n          })\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.data.msg\n          })\n        }\n      })\n    }\n  })\n},\n~~~\n\n3. 代码分析完毕，我们打开系统查看效果\n![](images\/screenshot_1569568894095.png)\n4. 直接提交，发现校验成功\n![](images\/screenshot_1569568910139.png)\n5. 填入相关数据，点击确定，查看控制台输出，发现打印信息正确\n![](images\/screenshot_1569568972571.png)\n6. 因为采用了mock数据，所以是模拟数据，列表页无法新增数据。我们将在`开发进阶`章节采用前后端分离的模式进行真实数据交互演示\n7. 下一章我们来学习下修改页如何操作\n\n "},"options":{"base":".\/","environment":"reader"},"style":""}</script><script type="text/javascript">kancloud.bootstrap('app');</script></body></html>